# Playing Guide

## 用意するもの

* 簡易APIサーバーを立てられる何らかの技術
* Dockerの利用可能なコンピュータ
* Docker Hubアカウント

## 参加の手順(アルファ版)

1. ヒアリング
2. AIサーバー作成
3. AIサーバーをDockerImage化
4. AIサーバーを公開
5. DockerImage名をTECH_SALONに伝達
6. TECH_SALONが自社AI及び他のテスター作成AIと対戦させる
7. 結果報告

## AIサーバー仕様書

### 用語
|単語|意味|
|:--|:--|
|ゲーム|52枚のカードを出しきるまでの一つの単位|
|マッチ|連続して行われる100ゲームあるいは1000ゲーム。実行の単位|

### 入力(JSON)

毎ターン、DockerContainerのポート:8483に以下のフォームを含むPOSTリクエストを行います。
key: "msg"
value: 以下のJSON形式の文字列

|key|型|長さ|値の説明|
|:--|:--|:--|:--|
|playerID|数値||プレイヤーごとに用意されたID|
|order|数値||マッチの最初のゲームにおける手番。0始まり|
|record|配列||各ゲームの場札の履歴|
|\-isPass|真偽値||true:パス。false：カードを出した|
|\-cardID|数値||出したカードのID。パスの場合は-1|
|onTable|オブジェクト||場札を表す|
|\-isEmpty|真偽値||trueだと場札が存在しない|
|\-cardID|数値||カードID|
|hand|配列|13|手札|
|\-cardID|数値||カードID|
|\-isPlayed|真偽値||すでにプレイしたかどうか。falseの場合手札にある|
|availableHand|数値の配列|1から13|プレイ可能なカードID|

### 出力(JSON)
|key|型|長さ|値の説明|
|:--|:--|:--|:--|
|isPass|真偽値||パスするか否か。パスする場合true|
|cardID|数値||プレイするカードID。パスする場合-1|

### 履歴(JSON)

|key|型|長さ|値の説明|
|:--|:--|:--|:--|
|matchID|数値||UNIXNANO秒に基づくゲームのID
|players|配列|人数(4)|プレイヤー情報|
|\-playerID|数値||プレイヤーごとに用意されたID|
|\-order|数値||マッチの最初のゲームにおける手番。0始まり|
|\-rank|数値の配列|人数(4)|それぞれの順位をとった回数。0が勝ちで3が負け|
|\-countErr|数値||エラーを起こした回数|
|gameFinished|数値||終わったゲーム数。100or1000|
|overallRecord|配列|100or1000|全ゲームの履歴|
|\-initialHands|数値の配列の配列|4, 13|各プレイヤーにあるカードのID|
|\-record|配列||各ゲームの場札の履歴|
|\-\-isPass|真偽値||true:パス。false：カードを出した|
|\-\-cardID|数値||出したカードのID。パスの場合は-1|
|\-rank|数値の配列||そのゲームに置ける順位。0:一位のプレイヤー。現在の仕様ではインデックスの意味が他と違うため注意|
|\-isDraw|真偽値||true:引き分け。false:決着がついた|
|\-countErr|数値の配列||各プレイヤーのエラー数|
